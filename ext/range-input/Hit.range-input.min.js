DOM.load(function(){Loop.each(DOM.select("input"),function(e){if("range"===e.type.toLowerCase()&&!e.attr("data-range-ignore")){var t=DOM.create("div.range"),n=DOM.create("div.range-inner").appendTo(t),i=DOM.create("div.range-thumb").appendTo(n),a=!1,r=function(t){t.preventDefault(),t.stopPropagation(),e.trigger("focus"),a=!0},o=function(){a=!1,e.trigger("blur")},g=function(n){if(a){n.preventDefault(),n.stopPropagation();var r=e.min-0||0,o=""!==e.max?e.max-0:100,g=e.step-0||1,d=o-r,l=t.getBoundingClientRect(),p=i.getBoundingClientRect().width/1.3,c=l.width-p,u=n.x-l.left-p/2,f=Math.med(0,Math.floor(u/c*Math.ceil(d/g)),d)/d;i.css("margin-left",f*c+"px"),e.value=r+f*d,e.trigger("input")}};t.listen("pointerdown",r),window.listen("pointermove",g),t.listen("click",function(e){r(e),g(e),o()}),window.listen("pointerup",o);var d=e.parentNode,l=Array.from(e.generation()).indexOf(e);if(e.hide(),t.insertTo(l,d),e.value){var p=e.min-0||0,c=""!==e.max?e.max-0:100,u=c-p;i.css("margin-left",(e.value-p)/u*(t.getBoundingClientRect().width-i.getBoundingClientRect().width/1.3)+"px")}}})});